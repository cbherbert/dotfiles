;;; Compilation mode:
(setq compilation-scroll-output 'first-error)
;;; Idutils:
(autoload 'gid "idutils" nil t)
;;; Custom Mode Bindings:
(add-to-list 'auto-mode-alist '("\\.fpp" . f90-mode))
(add-to-list 'auto-mode-alist '("\\.hcu" . cuda-mode))
;;; Solarized theme colors:
(if (>= emacs-major-version 24)
    (progn (add-to-list 'custom-theme-load-path "~/.emacs.d/emacs-color-theme-solarized")
	   (load-theme 'solarized t))
  (when (>= emacs-major-version 23)
    ;; Not sure this is the proper way of doing it but it is the only hack I found to get reasonable colors so far:
    (add-to-list 'load-path "~/.emacs.d/color-theme-6.6.0")
    (require 'color-theme)
    (add-to-list 'load-path "~/.emacs.d/emacs-color-theme-solarized")
    (require 'color-theme-solarized)
    (color-theme-solarized)
    (custom-set-faces  '(default ((t (:background "black"))) t))
    )
  )
;;; MELPA Packages:
(when (>= emacs-major-version 24)
  (require 'package)
  (add-to-list 'package-archives
	       '("melpa" . "https://melpa.org/packages/")
	       )					
  (package-initialize)
  )

;;; python-mode
;(setq py-install-directory "~/.emacs.d/python-mode-6.0.11")
;(add-to-list 'load-path py-install-directory)
(require 'python-mode)
; use IPython
(setq-default py-shell-name "ipython")
(setq-default py-which-bufname "IPython")
; use the wx backend, for both mayavi and matplotlib
;(setq py-python-command-args
;      '("--gui=wx" "--pylab=wx" "-colors" "Linux"))
(setq py-force-py-shell-name-p t)

; switch to the interpreter after executing code
(setq py-shell-switch-buffers-on-execute-p t)
;(setq py-switch-buffers-on-execute-p t)
; don't split windows
(setq py-split-windows-on-execute-p nil)
; try to automagically figure out indentation
(setq py-smart-indentation t)

;;; Other custom variables:
(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(frame-background-mode (quote dark))
 '(org-export-backends
   (quote
    (ascii beamer html icalendar latex man md odt texinfo))))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )
